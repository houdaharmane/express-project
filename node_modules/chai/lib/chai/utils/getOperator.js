<<<<<<< HEAD
import {flag} from './flag.js';
import {type} from './type-detect.js';

/**
 * @param {unknown} obj
 * @returns {boolean}
 */
function isObjectType(obj) {
  var objectType = type(obj);
  var objectTypes = ['Array', 'Object', 'Function'];
=======
var type = require('type-detect');

var flag = require('./flag');

function isObjectType(obj) {
  var objectType = type(obj);
  var objectTypes = ['Array', 'Object', 'function'];
>>>>>>> 5feea03a860e1851f4a7432dfd45499e26af9716

  return objectTypes.indexOf(objectType) !== -1;
}

/**
 * ### .getOperator(message)
 *
 * Extract the operator from error message.
 * Operator defined is based on below link
 * https://nodejs.org/api/assert.html#assert_assert.
 *
 * Returns the `operator` or `undefined` value for an Assertion.
 *
<<<<<<< HEAD
 * @param {object} obj object (constructed Assertion)
 * @param {unknown} args chai.Assertion.prototype.assert arguments
 * @returns {unknown}
 * @namespace Utils
 * @name getOperator
 * @public
 */
export function getOperator(obj, args) {
=======
 * @param {Object} object (constructed Assertion)
 * @param {Arguments} chai.Assertion.prototype.assert arguments
 * @namespace Utils
 * @name getOperator
 * @api public
 */

module.exports = function getOperator(obj, args) {
>>>>>>> 5feea03a860e1851f4a7432dfd45499e26af9716
  var operator = flag(obj, 'operator');
  var negate = flag(obj, 'negate');
  var expected = args[3];
  var msg = negate ? args[2] : args[1];

  if (operator) {
    return operator;
  }

  if (typeof msg === 'function') msg = msg();

  msg = msg || '';
  if (!msg) {
    return undefined;
  }

  if (/\shave\s/.test(msg)) {
    return undefined;
  }

  var isObject = isObjectType(expected);
  if (/\snot\s/.test(msg)) {
    return isObject ? 'notDeepStrictEqual' : 'notStrictEqual';
  }

  return isObject ? 'deepStrictEqual' : 'strictEqual';
<<<<<<< HEAD
}
=======
};
>>>>>>> 5feea03a860e1851f4a7432dfd45499e26af9716
